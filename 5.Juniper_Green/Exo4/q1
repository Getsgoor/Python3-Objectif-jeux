#Jeu de Juniper Green
# Le jeu possède 4 règles :

#Ici l'ordi joue tout seul, et fais un maimu de parties pour trouver le maximum de coups possibles

# 1. Le Joueur 1 choisit un nombre entre 1 et nMax
# 2. A tour de rôle, chaque joueur doit choisir un nombre parmi les multiples
#    ou les diviseurs du nombre choisi précédemment par son adversaire
#    et inférieur à  nMax.
# 3. Un nombre ne peut être joué qu'une seule fois.
# 4. Le premier nombre choisi doit être pair.

# Le perdant est le joueur qui ne trouve plus de multiples ou de diviseurs
# communs au nombre précédemment choisi.

from random import randint, choice
from math import *


#-------------------------------- Tours de jeu ------------------------------------------





def jouer():
    global possibles, valides, nbre_coups_max, sauvegarde_max
    possibles = list(range(1, int(NMAX) + 1))		 
    valides = debut()
    sauvegarde = []
    nbre_coups = 0
    while (valides):
        tour_de_jeu()
    if (nbre_coups_max < nbre_coups):
        nbre_coups_max = nbre_coups
        sauvegarde_max = sauvegarde



def tour_de_jeu():
    choix = choice(valides)
    valides = update_liste(choix)
    enregistrer(choix)
    
    return choix


def premier_tour():
    global valides
    valides = multiple(2)
    choix = tour_de_jeu()
    return choix


def debut():
    v = []
    choix = premier_tour()
    enregistrer(choix)
    v = update_liste(choix)
    
    return v


#------------------------------------ Autres fonctions ------------------------------------

def diviseur(nombre):
    v = []
    for i in range(1, nombre):
        if (nombre % i == 0 and i in possibles):
            v.append(i)
    return v


def multiple(nombre):
    v = []
    i = nombre
    while (i <= NMAX ):
        if (i in possibles):
            v.append(i)
        i += nombre
    return v


def update_liste(nombre):
    possibles.remove(nombre)
    nValides = diviseur(nombre) + multiple(nombre)

    return nValides


def enregistrer(choix):
    global sauvegarde, nbre_coups
    sauvegarde.append(choix)
    nbre_coups += 1
    

#---------------------------------- Programme principal --------------------------------------


nbParties = 50

NMAX = 50
possibles = list(range(1, int(NMAX) + 1))		 #liste des nombres pas encore utilisés
valides = []
sauvegarde_max = []
nbre_coups_max = 0
sauvegarde = []
nbre_coups = 0

for i in range(nbParties):
    jouer()
    nbParties += 1

print("parties jouées")
    
    


    